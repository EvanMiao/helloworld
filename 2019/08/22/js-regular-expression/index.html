<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 正则表达式 | Evan Miao</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="正则表达式（regular expression）是用于匹配字符串中字符组合的模式。在 JavaScript 中，正则表达式也是对象，其体系参照 Perl 5 建立。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.2841f883.css" as="style"><link rel="preload" href="/assets/js/app.d0e21ce9.js" as="script"><link rel="preload" href="/assets/js/6.bbae952c.js" as="script"><link rel="preload" href="/assets/js/3.65b43d86.js" as="script"><link rel="preload" href="/assets/js/22.db64de07.js" as="script"><link rel="prefetch" href="/assets/js/10.8265b35b.js"><link rel="prefetch" href="/assets/js/11.26ca5563.js"><link rel="prefetch" href="/assets/js/12.967b6790.js"><link rel="prefetch" href="/assets/js/13.2e9218a4.js"><link rel="prefetch" href="/assets/js/14.b619f91b.js"><link rel="prefetch" href="/assets/js/15.c10e68ce.js"><link rel="prefetch" href="/assets/js/16.425a87a7.js"><link rel="prefetch" href="/assets/js/17.f0022059.js"><link rel="prefetch" href="/assets/js/18.5577ad12.js"><link rel="prefetch" href="/assets/js/19.e7084266.js"><link rel="prefetch" href="/assets/js/20.64a07d54.js"><link rel="prefetch" href="/assets/js/21.970273ef.js"><link rel="prefetch" href="/assets/js/23.e4b683be.js"><link rel="prefetch" href="/assets/js/24.3ca975af.js"><link rel="prefetch" href="/assets/js/25.1d2c6023.js"><link rel="prefetch" href="/assets/js/26.2a3c460a.js"><link rel="prefetch" href="/assets/js/27.fffef8d1.js"><link rel="prefetch" href="/assets/js/28.5a0dec53.js"><link rel="prefetch" href="/assets/js/29.fd3d859c.js"><link rel="prefetch" href="/assets/js/30.05758cdb.js"><link rel="prefetch" href="/assets/js/4.8e40395f.js"><link rel="prefetch" href="/assets/js/5.e37c7c91.js"><link rel="prefetch" href="/assets/js/7.949d4f0e.js"><link rel="prefetch" href="/assets/js/8.130a7634.js"><link rel="prefetch" href="/assets/js/9.c1a544f5.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.1f3cd5b5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2841f883.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">Evan Miao </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Home</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tag</a></li><li class="nav-item"><a href="/about/" class="nav-link">About</a></li><li class="nav-item"><a href="https://github.com/evanmiao" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">Evan Miao </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Home</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tag</a></li><li class="mobile-nav-item"><a href="/about/" class="nav-link">About</a></li><li class="mobile-nav-item"><a href="https://github.com/evanmiao" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        JavaScript 正则表达式
      </h1> <div class="post-meta"><!----> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2019-08-22T00:00:00.000Z">
      Thu Aug 22 2019
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-42ccfcd5><a href="/tag/JavaScript" data-v-42ccfcd5><span data-v-42ccfcd5>JavaScript</span></a></li><li class="post-tag" data-v-42ccfcd5><a href="/tag/学习笔记" data-v-42ccfcd5><span data-v-42ccfcd5>学习笔记</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="创建正则表达式"><a href="#创建正则表达式" class="header-anchor">#</a> 创建正则表达式</h2> <ul><li>使用一个正则表达式字面量</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/xxx/</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>调用 <code>RegExp</code> 对象的构造函数</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>两种方法主要区别是：第一种方法在引擎编译代码时，就会新建正则表达式，第二种方法在运行时新建正则表达式，所以前者的效率较高。而且，前者比较便利和直观，所以实际应用中，基本上都采用字面量定义正则表达式。</p> <h3 id="实例属性"><a href="#实例属性" class="header-anchor">#</a> 实例属性</h3> <p>分为两类</p> <ul><li>修饰符（只读）</li></ul> <p><code>RegExp.prototype.ignoreCase</code>：返回一个布尔值，表示是否设置了 <code>i</code> 修饰符。用于忽略字符串大小写。</p> <p><code>RegExp.prototype.global</code>：返回一个布尔值，表示是否设置了 <code>g</code> 修饰符。用于全局匹配。</p> <p><code>RegExp.prototype.multiline</code>：返回一个布尔值，表示是否设置了 <code>m</code> 修饰符。用于设置匹配为多行模式。</p> <ul><li>其他属性</li></ul> <p><code>RegExp.prototype.lastIndex</code>：返回一个数值，表示下一次开始搜索的位置。该属性可读写，但是只在进行连续搜索时有意义，详细介绍请看后文。</p> <p><code>RegExp.prototype.source</code>：返回正则表达式的字符串形式（不包括反斜杠），该属性只读。</p> <h3 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h3> <ul><li><strong>RegExp.prototype.test()</strong></li></ul> <p><code>test</code> 方法返回布尔值，表示当前模式是否能匹配参数字符串</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/a/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'and'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><strong>RegExp.prototype.exec()</strong></li></ul> <p><code>exec</code> 方法，用来返回匹配结果</p> <p>如果发现匹配，就返回一个数组，成员是匹配成功的子字符串，否则返回 <code>null</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/a/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'adbca'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果正则表示式包含圆括号（即含有“组匹配”），则返回的数组会包括多个成员。第一个成员是整个匹配成功的结果，后面的成员就是圆括号对应的匹配成功的组。也就是说，第二个成员对应第一个括号，第三个成员对应第二个括号，以此类推。整个数组的 <code>length</code> 属性等于组匹配的数量再加 1 。</p> <p><code>String.prototype.match()</code>：返回一个数组，成员是所有匹配的子字符串。</p> <p><code>String.prototype.search()</code>：按照给定的正则表达式进行搜索，返回一个整数，表示匹配开始的位置。</p> <p><code>String.prototype.replace()</code>：按照给定的正则表达式进行替换，返回替换后的字符串。</p> <p><code>String.prototype.split()</code>：按照给定规则进行字符串分割，返回一个数组，包含分割后的各个成员。</p> <hr> <h2 id="元字符"><a href="#元字符" class="header-anchor">#</a> 元字符</h2> <h3 id="点字符"><a href="#点字符" class="header-anchor">#</a> 点字符</h3> <p>点字符 <code>.</code> 匹配除回车（<code>\r</code>）、换行（<code>\n</code>） 、行分隔符（<code>\u2028</code>）和段分隔符（<code>\u2029</code>）以外的所有字符。</p> <h3 id="位置字符"><a href="#位置字符" class="header-anchor">#</a> 位置字符</h3> <p><code>^</code> 表示字符串的开始位置</p> <p><code>$</code> 表示字符串的结束位置</p> <h3 id="选择符"><a href="#选择符" class="header-anchor">#</a> 选择符</h3> <p><code>|</code> 表示“或关系”</p> <h3 id="转义符"><a href="#转义符" class="header-anchor">#</a> 转义符</h3> <p>匹配元字符本身可以在它们前面加反斜杠 <code>\</code></p> <p>构造函数需要两次转义</p> <h3 id="特殊字符"><a href="#特殊字符" class="header-anchor">#</a> 特殊字符</h3> <p><code>\cX</code> 表示 Ctrl-[X]，其中的 X 是 A-Z 之中任一个英文字母，用来匹配控制字符。</p> <p><code>[\b]</code> 匹配退格键(U+0008)，不要与 <code>\b</code> 混淆。</p> <p><code>\n</code> 匹配换行键。</p> <p><code>\r</code> 匹配回车键。</p> <p><code>\t</code> 匹配制表符 tab（U+0009）。</p> <p><code>\v</code> 匹配垂直制表符（U+000B）。</p> <p><code>\f</code> 匹配换页符（U+000C）。</p> <p><code>\0</code> 匹配 <code>null</code> 字符（U+0000）。</p> <p><code>\xhh</code> 匹配一个以两位十六进制数（\x00-\xFF）表示的字符。</p> <p><code>\uhhhh</code> 匹配一个以四位十六进制数（\u0000-\uFFFF）表示的 Unicode 字符。</p> <h2 id="字符类"><a href="#字符类" class="header-anchor">#</a> 字符类</h2> <p>字符类（class）表示有一系列字符可供选择，只要匹配其中一个就可以了。所有可供选择的字符都放在方括号内，比如 <code>[^xyz]</code> 表示 x、y、z 之中任选一个匹配。</p> <h3 id="脱字符"><a href="#脱字符" class="header-anchor">#</a> 脱字符</h3> <p>（<code>^</code>）：需在字符类第一位</p> <p>表示除了字符类之中的字符，其他字符都可以匹配。只有 <code>[^]</code> ，就表示匹配一切字符，包括换行符。相比之下，点号 <code>.</code> 作为元字符是不包括换行符的。</p> <h3 id="连字符"><a href="#连字符" class="header-anchor">#</a> 连字符</h3> <p>（<code>-</code>）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/[0-9.,]/</span><span class="token punctuation">;</span>
<span class="token regex">/[0-9a-fA-F]/</span><span class="token punctuation">;</span>
<span class="token regex">/[a-zA-Z0-9-]/</span><span class="token punctuation">;</span>
<span class="token regex">/[1-31]/</span><span class="token punctuation">;</span>  <span class="token comment">// 不代表1到31，只代表1到3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="预定义模式-某些常见模式的简写方式"><a href="#预定义模式-某些常见模式的简写方式" class="header-anchor">#</a> 预定义模式：某些常见模式的简写方式</h2> <p><code>\d</code> 匹配0-9之间的任一数字，相当于 <code>[0-9]</code> 。</p> <p><code>\D</code> 匹配所有0-9以外的字符，相当于 <code>[^0-9]</code> 。</p> <p><code>\w</code> 匹配任意的字母、数字和下划线，相当于 <code>[A-Za-z0-9_]</code> 。</p> <p><code>\W</code> 除所有字母、数字和下划线以外的字符，相当于 <code>[^A-Za-z0-9_]</code> 。</p> <p><code>\s</code> 匹配空格（包括换行符、制表符、空格符等），相等于 <code>[ \t\r\n\v\f]</code> 。</p> <p><code>\S</code> 匹配非空格的字符，相当于 <code>[^ \t\r\n\v\f]</code> 。</p> <p><code>\b</code> 匹配词的边界。</p> <p><code>\B</code> 匹配非词边界，即在词的内部。</p> <h2 id="重复类"><a href="#重复类" class="header-anchor">#</a> 重复类</h2> <p>模式的精确匹配次数，使用大括号 <code>{}</code> 表示。</p> <p><code>{n}</code> 表示恰好重复 n 次；</p> <p><code>{n,}</code> 表示至少重复 n 次；</p> <p><code>{n,m}</code> 表示重复不少于 n 次，不多于 m 次。</p> <h2 id="量词符-设定某个模式出现的次数"><a href="#量词符-设定某个模式出现的次数" class="header-anchor">#</a> 量词符：设定某个模式出现的次数</h2> <p><code>?</code> 问号表示某个模式出现0次或1次，等同于 <code>{0, 1}</code> 。</p> <p><code>*</code> 星号表示某个模式出现0次或多次，等同于 <code>{0,}</code> 。</p> <p><code>+</code> 加号表示某个模式出现1次或多次，等同于 <code>{1,}</code> 。</p> <h2 id="贪婪模式"><a href="#贪婪模式" class="header-anchor">#</a> 贪婪模式</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">'aaa'</span><span class="token punctuation">;</span>
s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/a+/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;aaa&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>贪婪模式改为非贪婪模式
<code>*?</code>：表示某个模式出现 0 次或多次，匹配时采用非贪婪模式。</p> <p><code>+?</code>：表示某个模式出现 1 次或多次，匹配时采用非贪婪模式。</p> <h2 id="字符串去空格-replace"><a href="#字符串去空格-replace" class="header-anchor">#</a> 字符串去空格(replace)</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'  #id div.class  '</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;#id div.class&quot;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s+|\s+$/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;#id div.class&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>$&amp;</code>：匹配的子字符串。</p> <p>$`：匹配结果前面的文本。</p> <p><code>$’</code>：匹配结果后面的文本。</p> <p><code>$n</code>：匹配成功的第 n 组内容， n 是从 1 开始的自然数。</p> <p><code>$$</code>：指代美元符号 $ 。</p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#创建正则表达式" title="创建正则表达式">创建正则表达式</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#实例属性" title="实例属性">实例属性</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#实例方法" title="实例方法">实例方法</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#元字符" title="元字符">元字符</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#点字符" title="点字符">点字符</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#位置字符" title="位置字符">位置字符</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#选择符" title="选择符">选择符</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#转义符" title="转义符">转义符</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#特殊字符" title="特殊字符">特殊字符</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#字符类" title="字符类">字符类</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#脱字符" title="脱字符">脱字符</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#连字符" title="连字符">连字符</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#预定义模式-某些常见模式的简写方式" title="预定义模式：某些常见模式的简写方式">预定义模式：某些常见模式的简写方式</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#重复类" title="重复类">重复类</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#量词符-设定某个模式出现的次数" title="量词符：设定某个模式出现的次数">量词符：设定某个模式出现的次数</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#贪婪模式" title="贪婪模式">贪婪模式</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#字符串去空格-replace" title="字符串去空格(replace)">字符串去空格(replace)</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://github.com/evanmiao" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-fdbf4940><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-fdbf4940></path></svg>
          
        </a></li><li class="contact-item" data-v-fdbf4940><a href="mailto:evan.c.miao@gmail.com" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-fdbf4940><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-fdbf4940></path><polyline points="22,6 12,13 2,6" data-v-fdbf4940></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="https://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940>Powered by VuePress</a></li><li class="copyright-item" data-v-fdbf4940><a href="/" class="nav-link" data-v-fdbf4940>Copyright © 2019 Evan Miao</a></li></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d0e21ce9.js" defer></script><script src="/assets/js/6.bbae952c.js" defer></script><script src="/assets/js/3.65b43d86.js" defer></script><script src="/assets/js/22.db64de07.js" defer></script>
  </body>
</html>
